{
  "issues": [
    {
      "id": "f1a0b2",
      "title": "Project scaffolding and core utilities",
      "parent": null,
      "done": false,
      "labels": ["infra"],
      "context": "Foundation for the CLI. TypeScript with Bun, no CLI framework. Set up the core read/write/validate logic that all commands depend on.",
      "criteria": [
        "Running 'chief init && chief new {\"title\":\"test\"} && chief list' works end-to-end",
        "Invalid JSON input prints error to stderr and exits 1",
        "chief --help prints usage for all commands"
      ],
      "notes": []
    },
    {
      "id": "c3d4e5",
      "title": "Initialize project structure",
      "parent": "f1a0b2",
      "done": true,
      "labels": ["infra"],
      "context": "TypeScript with Bun. No CLI framework - parse args manually. Single entry point.",
      "criteria": [
        "package.json with type: module and bin entry",
        "tsconfig.json configured",
        "src/index.ts as entry point",
        "bun run build produces working binary"
      ],
      "notes": []
    },
    {
      "id": "a7b8c9",
      "title": "Core JSON read/write utilities",
      "parent": "f1a0b2",
      "done": true,
      "labels": ["backend"],
      "context": "Shared utilities for loading .issues/issues.json, writing it back with consistent formatting, and finding the file (walk up directory tree).",
      "criteria": [
        "Function to locate .issues/issues.json from cwd or parent dirs",
        "Function to read and parse the file",
        "Function to write with consistent 2-space indent formatting",
        "Errors if file not found (except for init)"
      ],
      "notes": []
    },
    {
      "id": "d1e2f3",
      "title": "ID generation utility",
      "parent": "f1a0b2",
      "done": true,
      "labels": ["backend"],
      "context": "Generate 6-character hex IDs. Must check for collisions against existing IDs.",
      "criteria": [
        "Generates random 6-char hex string",
        "Checks against existing IDs and regenerates on collision",
        "Uses crypto-secure randomness"
      ],
      "notes": []
    },
    {
      "id": "e4f5a6",
      "title": "Validation logic",
      "parent": "f1a0b2",
      "done": true,
      "labels": ["backend"],
      "context": "Enforce schema rules before writing. Reject invalid mutations.",
      "criteria": [
        "Validates all required fields present on issues",
        "Validates parent references existing issue or is null",
        "Validates parent is not itself a child (max 1 level nesting)",
        "Validates no self-referential parent",
        "Returns clear error messages"
      ],
      "notes": []
    },
    {
      "id": "b2c3d4",
      "title": "chief init",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Creates .issues/issues.json with empty issues array. Entry point for new projects.",
      "criteria": [
        "Running in empty dir creates .issues/issues.json",
        "Running again is idempotent (no error, no change)",
        "Prints path to created/existing file"
      ],
      "notes": []
    },
    {
      "id": "f6a7b8",
      "title": "chief new",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Core command for creating issues. Accepts JSON, applies defaults, generates ID.",
      "criteria": [
        "chief new '{\"title\":\"foo\"}' creates issue and prints ID",
        "Created issue appears in chief list output"
      ],
      "notes": ["2026-01-07: Interactive mode cancelled - agent-first design"]
    },
    {
      "id": "c9d0e1",
      "title": "chief new with JSON argument",
      "parent": "f6a7b8",
      "done": true,
      "labels": ["feature"],
      "context": "chief new '{\"title\": \"...\"}' - parse JSON, apply defaults, append to issues array.",
      "criteria": [
        "Parses JSON from first positional argument",
        "Generates unique 6-char hex ID",
        "Applies defaults: parent=null, done=false, labels=[], context=\"\", criteria=[], notes=[]",
        "Validates parent reference if provided",
        "Appends to issues array",
        "Prints created issue ID"
      ],
      "notes": []
    },

    {
      "id": "d5e6f7",
      "title": "chief done",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Mark an issue complete. Simple field update.",
      "criteria": [
        "Accepts issue ID as argument",
        "Sets done: true for matching issue",
        "Fails with error if ID not found",
        "Prints confirmation"
      ],
      "notes": []
    },
    {
      "id": "b8c9d0",
      "title": "chief reopen",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Mark a done issue as incomplete again.",
      "criteria": [
        "Accepts issue ID as argument",
        "Sets done: false for matching issue",
        "Fails with error if ID not found",
        "Prints confirmation"
      ],
      "notes": []
    },
    {
      "id": "e1f2a3",
      "title": "chief remove",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Delete an issue and its children recursively.",
      "criteria": [
        "chief remove <id> deletes issue from list",
        "If issue has children, deletes them too and prints what was removed",
        "Unknown ID prints error to stderr and exits 1"
      ],
      "notes": []
    },
    {
      "id": "f4a5b6",
      "title": "chief note",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Append timestamped notes to an issue.",
      "criteria": [
        "chief note <id> 'text' appends timestamped note",
        "Note appears in chief show <id> output with date prefix"
      ],
      "notes": ["2026-01-07: Interactive mode cancelled - agent-first design"]
    },
    {
      "id": "c7d8e9",
      "title": "chief note with text argument",
      "parent": "f4a5b6",
      "done": true,
      "labels": ["feature"],
      "context": "chief note <id> \"text\" - append timestamped note inline.",
      "criteria": [
        "Accepts ID and text as arguments",
        "Prepends current date (YYYY-MM-DD format)",
        "Appends to notes array",
        "Fails if ID not found"
      ],
      "notes": []
    },

    {
      "id": "g1h2i3",
      "title": "chief list",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Display all issues in a readable format. Primary way to view project state.",
      "criteria": [
        "chief list shows all issues with ID, title, done status",
        "Child issues indented under parents",
        "Labels shown inline",
        "Done issues visually distinguished (strikethrough or dimmed)"
      ],
      "notes": []
    },
    {
      "id": "h3i4j5",
      "title": "chief show",
      "parent": null,
      "done": true,
      "labels": ["feature"],
      "context": "Display full details of a single issue.",
      "criteria": [
        "chief show <id> prints all fields of the issue",
        "Shows context, criteria, notes, labels",
        "Shows children if any",
        "Unknown ID prints error to stderr and exits 1"
      ],
      "notes": []
    },

    {
      "id": "j7k8l9",
      "title": "CLI help and error handling",
      "parent": null,
      "done": false,
      "labels": ["infra"],
      "context": "Consistent UX for help text and errors across all commands.",
      "criteria": [
        "chief --help lists all commands with one-line descriptions",
        "chief <cmd> --help shows detailed usage for that command",
        "All errors print to stderr and exit 1",
        "Unknown commands print 'unknown command' and suggest --help"
      ],
      "notes": []
    },
    {
      "id": "k9l0m1",
      "title": "install.sh script",
      "parent": null,
      "done": false,
      "labels": ["infra"],
      "context": "One-liner install via curl | bash. Downloads binary for user's platform from GitHub releases.",
      "criteria": [
        "curl -fsSL https://raw.githubusercontent.com/.../install.sh | bash works",
        "Detects OS (darwin/linux/windows) and arch (x64/arm64)",
        "Downloads correct binary from GitHub releases",
        "Adds to PATH if not already present"
      ],
      "notes": []
    },
    {
      "id": "m2n3o4",
      "title": "chief update command",
      "parent": null,
      "done": false,
      "labels": ["feature"],
      "context": "Partial update of an issue. Saves agents from read-modify-write cycle for simple field changes.",
      "criteria": [
        "chief update <id> '{\"field\": \"value\"}' merges JSON into existing issue",
        "Fields present in JSON replace existing values",
        "Fields omitted from JSON are left unchanged",
        "Cannot change id field (error if attempted)",
        "Validates result before saving"
      ],
      "notes": []
    },
    {
      "id": "p5q6r7",
      "title": "Add doneAt timestamp",
      "parent": null,
      "done": false,
      "labels": ["feature"],
      "context": "Record when issues are completed for tracking velocity and history.",
      "criteria": [
        "chief done sets doneAt to current ISO 8601 timestamp",
        "chief reopen clears doneAt to null",
        "chief show displays doneAt when present",
        "Existing issues without doneAt continue to work"
      ],
      "notes": []
    },
    {
      "id": "s8t9u0",
      "title": "Use Bun.color for ANSI colors",
      "parent": null,
      "done": false,
      "labels": ["refactor"],
      "context": "Replace hand-rolled ANSI escape codes with Bun.color() built-in.",
      "criteria": [
        "Remove duplicated ANSI constants from list.ts and show.ts",
        "Use Bun.color() for all terminal coloring",
        "Output unchanged visually"
      ],
      "notes": []
    },
    {
      "id": "v1w2x3",
      "title": "Extract findIssueOrExit helper",
      "parent": null,
      "done": false,
      "labels": ["refactor"],
      "context": "DRY up duplicated issue lookup pattern across commands.",
      "criteria": [
        "New helper function in shared module",
        "Used by done, reopen, remove, show, note commands",
        "Prints error to stderr and exits 1 if not found"
      ],
      "notes": []
    },
    {
      "id": "y4z5a6",
      "title": "Clean up help text",
      "parent": null,
      "done": false,
      "labels": ["refactor"],
      "context": "Help text currently lists commands that don't exist (criteria, label, edit, status).",
      "criteria": [
        "Remove non-existent commands from --help output",
        "Add update command to --help output",
        "Verify all listed commands actually work"
      ],
      "notes": []
    }
  ]
}
